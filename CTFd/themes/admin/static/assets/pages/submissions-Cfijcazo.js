import{$ as t,u as l,N as c,C as r}from"./main-CC-0jmtb.js";function f(n){const e=t(this).data("submission-id"),i=t(this).parent().parent(),s=i.find(".chal").text().trim(),o=i.find(".team").text().trim(),a=t(this).parent().parent();l({title:"حذف سابمیشن",body:"آیا مطمئن هستید که می‌خواهید ارسال صحیح را از {0} برای چالش {1} حذف کنید؟".format("<strong>"+c(o)+"</strong>","<strong>"+c(s)+"</strong>"),success:function(){r.api.delete_submission({submissionId:e}).then(function(d){d.success&&a.remove()})}})}function m(n){let e=t("input[data-submission-id]:checked").map(function(){return t(this).data("submission-id")}),i=e.length===1?"submission":"submissions";l({title:"حذف ارسال‌ها",body:`آیا مطمئنید برای حذف: ${e.length} ${i}?`,success:function(){const s=[];for(var o of e)s.push(r.api.delete_submission({submissionId:o}));Promise.all(s).then(a=>{window.location.reload()})}})}function g(n){let e=t("input[data-submission-id]:checked").map(function(){return t(this).data("submission-id")}),i=e.length===1?"submission":"submissions";l({title:"تصحیح سابمیشن",body:`آیا مطمئنید برای مارک کردن ${e.length} ${i} به عنوان پاسخ درست?`,success:function(){const s=[];for(var o of e){let a=r.fetch(`/api/v1/submissions/${o}`,{method:"PATCH",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({type:"correct"})});s.push(a)}Promise.all(s).then(a=>{window.location.reload()})}})}function u(n){const e=new URLSearchParams(window.location.search);e.has("full")?e.delete("full"):e.set("full","true"),window.location.href=`${window.location.pathname}?${e.toString()}`}function h(n){let e=t(n.currentTarget),i=e.find("i"),s=e.parent().find("pre");s.hasClass("full-flag")?(s.text(s.attr("title").substring(0,42)+"..."),s.removeClass("full-flag"),i.addClass("fa-eye"),i.removeClass("fa-eye-slash")):(s.text(s.attr("title")),s.addClass("full-flag"),i.addClass("fa-eye-slash"),i.removeClass("fa-eye"))}function p(n){let s=t(n.currentTarget).parent().find("pre").attr("title");navigator.clipboard.writeText(s),t(n.currentTarget).tooltip({title:"Copied!",trigger:"manual"}),t(n.currentTarget).tooltip("show"),setTimeout(function(){t(n.currentTarget).tooltip("hide")},1500)}t(()=>{t("#show-full-flags-button").click(u),t("#show-short-flags-button").click(u),t(".show-flag").click(h),t(".copy-flag").click(p),t("#correct-flags-button").click(g),t(".delete-correct-submission").click(f),t("#submission-delete-button").click(m)});
